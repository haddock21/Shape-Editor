{"ast":null,"code":"// src/components/ToolBar.js\nimport React,{useRef,useEffect}from'react';import{ReactComponent as PolylineIcon}from\"../imgs/polyline-svgrepo-com.svg\";import{ReactComponent as CurveIcon}from\"../imgs/vector-line-curve.svg\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ToolBar=_ref=>{let{activeTool,setActiveTool,onExportJSON,onDownloadJPEG,onDownloadPDF,onLoad,onClear,lineColor,fillColor,setLineColor,setFillColor,strokeWidth,setStrokeWidth}=_ref;const fileInputRef=useRef();// Refs to the dynamically created color inputs\nconst fillPickerRef=useRef(null);const fillButtonRef=useRef(null);// File‐load handler (unchanged)\nconst handleFileChange=e=>{const file=e.target.files[0];if(!file)return;const reader=new FileReader();reader.onload=ev=>{try{const shapes=JSON.parse(ev.target.result);onLoad(shapes);}catch{console.error(\"Invalid JSON file\");}};reader.readAsText(file);e.target.value=null;};// On mount: create hidden color inputs\nuseEffect(()=>{// — Line picker —\nconst lineInput=document.createElement('input');lineInput.type='color';lineInput.value=lineColor;lineInput.style.display='none';lineInput.addEventListener('input',e=>setLineColor(e.target.value));document.body.appendChild(lineInput);// — Fill picker —\nconst fillInput=document.createElement('input');fillInput.type='color';fillInput.value=fillColor;// make it invisible but still in the layout\nfillInput.style.position='absolute';fillInput.style.width='32px';fillInput.style.height='32px';fillInput.style.opacity='0';fillInput.style.display='none';fillInput.tabIndex=-1;fillInput.addEventListener('input',e=>setFillColor(e.target.value));// hide it again when the picker closes\nfillInput.addEventListener('blur',()=>{fillInput.style.display='none';});document.body.appendChild(fillInput);fillPickerRef.current=fillInput;return()=>{lineInput.remove();fillInput.remove();};},[fillColor,lineColor,setFillColor,setLineColor]);useEffect(()=>{const onKeyDown=e=>{if(e.key===\"v\"){setActiveTool(\"cursor\");}};window.addEventListener(\"keydown\",onKeyDown);return()=>{window.removeEventListener(\"keydown\",onKeyDown);};},[]);// Update the preview bars whenever colors change\nuseEffect(()=>{const previews=document.querySelectorAll('.draw-buttons .line-color-preview');if(previews[0])previews[0].style.backgroundColor=lineColor;},[lineColor]);useEffect(()=>{const previews=document.querySelectorAll('.draw-buttons .line-color-preview');if(previews[1])previews[1].style.backgroundColor=fillColor;},[fillColor]);// Handlers to open the native picker\nconst openFillPicker=()=>{const btn=fillButtonRef.current;const input=fillPickerRef.current;if(!btn||!input)return;// compute button position\nconst rect=btn.getBoundingClientRect();input.style.left=`${rect.right+window.scrollX+5}px`;input.style.top=`${rect.top+window.scrollY}px`;input.style.display='block';input.focus();input.click();};return/*#__PURE__*/_jsxs(\"ul\",{className:\"draw-buttons m-0 px-2 d-flex flex-column align-items-center justify-content-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTool(\"cursor\"),title:\"Select (v)\",className:activeTool===\"cursor\"?\"tool bg-black text-white\":\"tool\",children:/*#__PURE__*/_jsx(\"span\",{className:\"bi bi-cursor\",style:{transform:\"scaleX(-1)\"}})}),/*#__PURE__*/_jsx(\"button\",{className:\"tool\",onClick:onClear,title:\"New Page\",children:/*#__PURE__*/_jsx(\"span\",{className:\"bi bi-plus-circle\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"tool\",title:\"Upload\",onClick:()=>fileInputRef.current.click(),children:/*#__PURE__*/_jsx(\"span\",{className:\"bi bi-upload\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown dropend\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"tool d-flex flex-column align-items-center\",type:\"button\",title:\"Line Color/Thickness\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",style:{height:\"43px\",fontSize:\"22px\"},children:[/*#__PURE__*/_jsx(\"span\",{className:\"bi bi-pencil\"}),/*#__PURE__*/_jsx(\"div\",{className:\"line-color-preview\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu p-2\",style:{minWidth:'175px',backgroundColor:'#979797'},children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label mb-1\",children:[\"Stroke width: \",strokeWidth,\"px\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",className:\"form-range mb-2\",min:\"1\",max:\"20\",value:strokeWidth,onChange:e=>setStrokeWidth(Number(e.target.value))}),/*#__PURE__*/_jsx(\"input\",{type:\"color\",className:\"w-100\",value:lineColor,onChange:e=>setLineColor(e.target.value)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown dropend\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"tool d-flex flex-column align-items-center justify-content-center\",title:\"Fill\",type:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",style:{height:\"43px\",fontSize:\"22px\"},children:[/*#__PURE__*/_jsx(\"span\",{className:\"bi bi-paint-bucket\"}),/*#__PURE__*/_jsx(\"div\",{className:\"line-color-preview\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-menu p-2\",style:{minWidth:'175px',backgroundColor:'#979797'},children:/*#__PURE__*/_jsx(\"input\",{type:\"color\",className:\"w-100\",value:fillColor,onChange:e=>setFillColor(e.target.value)})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTool(\"line\"),title:\"Line\",className:activeTool===\"line\"?\"tool bg-black text-white\":\"tool\",children:/*#__PURE__*/_jsx(\"span\",{className:\"bi bi-slash-lg\"})}),/*#__PURE__*/_jsx(\"button\",{title:\"Poly-Line\",onClick:()=>setActiveTool(\"poly-line\"),className:activeTool===\"poly-line\"?\"tool bg-black text-white\":\"tool\",children:/*#__PURE__*/_jsx(PolylineIcon,{width:35,height:35})}),/*#__PURE__*/_jsx(\"button\",{title:\"Curve\",onClick:()=>setActiveTool(\"curve\"),className:activeTool===\"curve\"?\"tool bg-black text-white\":\"tool\",children:/*#__PURE__*/_jsx(CurveIcon,{width:35,height:35})}),/*#__PURE__*/_jsx(\"button\",{title:\"Rectangle/Square\",onClick:()=>setActiveTool(\"square\"),className:activeTool===\"square\"?\"tool bg-black text-white\":\"tool\",children:/*#__PURE__*/_jsx(\"span\",{className:\"bi bi-square\"})}),/*#__PURE__*/_jsx(\"button\",{title:\"Ellipse/Circle\",onClick:()=>setActiveTool(\"circle\"),className:activeTool===\"circle\"?\"tool bg-black text-white\":\"tool\",children:/*#__PURE__*/_jsx(\"span\",{className:\"bi bi-circle\"})}),/*#__PURE__*/_jsx(\"button\",{title:\"Triangle\",onClick:()=>setActiveTool(\"triangle\"),className:activeTool===\"triangle\"?\"tool bg-black text-white\":\"tool\",children:/*#__PURE__*/_jsx(\"span\",{className:\"bi bi-triangle\"})}),/*#__PURE__*/_jsx(\"button\",{title:\"Polygon\",onClick:()=>setActiveTool(\"polygon\"),className:activeTool===\"polygon\"?\"tool bg-black text-white\":\"tool\",children:/*#__PURE__*/_jsx(\"span\",{className:\"bi bi-pentagon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown dropend\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"tool\",title:\"Download\",type:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:/*#__PURE__*/_jsx(\"span\",{className:\"bi bi-download\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",style:{backgroundColor:\"#979797\"},children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item\",onClick:onDownloadJPEG,children:\"JPEG Image (.jpg)\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item\",onClick:onDownloadPDF,children:\"PDF Document (.pdf)\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item\",onClick:onExportJSON,children:\"JSON File (.json)\"})})]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".json\",ref:fileInputRef,style:{display:\"none\"},onChange:handleFileChange})]});};export default ToolBar;","map":{"version":3,"names":["React","useRef","useEffect","ReactComponent","PolylineIcon","CurveIcon","jsx","_jsx","jsxs","_jsxs","ToolBar","_ref","activeTool","setActiveTool","onExportJSON","onDownloadJPEG","onDownloadPDF","onLoad","onClear","lineColor","fillColor","setLineColor","setFillColor","strokeWidth","setStrokeWidth","fileInputRef","fillPickerRef","fillButtonRef","handleFileChange","e","file","target","files","reader","FileReader","onload","ev","shapes","JSON","parse","result","console","error","readAsText","value","lineInput","document","createElement","type","style","display","addEventListener","body","appendChild","fillInput","position","width","height","opacity","tabIndex","current","remove","onKeyDown","key","window","removeEventListener","previews","querySelectorAll","backgroundColor","openFillPicker","btn","input","rect","getBoundingClientRect","left","right","scrollX","top","scrollY","focus","click","className","children","onClick","title","transform","fontSize","minWidth","min","max","onChange","Number","accept","ref"],"sources":["/home/nightsquid/Desktop/GUI II/Shape Editor/src/components/ToolBar.js"],"sourcesContent":["// src/components/ToolBar.js\nimport React, { useRef, useEffect } from 'react';\nimport { ReactComponent as PolylineIcon } from \"../imgs/polyline-svgrepo-com.svg\";\nimport { ReactComponent as CurveIcon } from \"../imgs/vector-line-curve.svg\";\n\nconst ToolBar = ({\n    activeTool,\n    setActiveTool,\n    onExportJSON,\n    onDownloadJPEG,\n    onDownloadPDF,\n    onLoad,\n    onClear,\n    lineColor,\n    fillColor,\n    setLineColor,\n    setFillColor,\n    strokeWidth,\n    setStrokeWidth\n}) => {\n    const fileInputRef = useRef();\n\n    // Refs to the dynamically created color inputs\n    const fillPickerRef = useRef(null);\n    const fillButtonRef = useRef(null);\n\n    // File‐load handler (unchanged)\n    const handleFileChange = (e) => {\n        const file = e.target.files[0];\n        if (!file) return;\n        const reader = new FileReader();\n        reader.onload = (ev) => {\n            try {\n                const shapes = JSON.parse(ev.target.result);\n                onLoad(shapes);\n            } catch {\n                console.error(\"Invalid JSON file\");\n            }\n        };\n        reader.readAsText(file);\n        e.target.value = null;\n    };\n\n    // On mount: create hidden color inputs\n    useEffect(() => {\n        // — Line picker —\n        const lineInput = document.createElement('input');\n        lineInput.type = 'color';\n        lineInput.value = lineColor;\n        lineInput.style.display = 'none';\n        lineInput.addEventListener('input', (e) => setLineColor(e.target.value));\n        document.body.appendChild(lineInput);\n\n        // — Fill picker —\n        const fillInput = document.createElement('input');\n               fillInput.type = 'color';\n               fillInput.value = fillColor;\n               // make it invisible but still in the layout\n                   fillInput.style.position   = 'absolute';\n               fillInput.style.width      = '32px';\n               fillInput.style.height     = '32px';\n               fillInput.style.opacity    = '0';\n               fillInput.style.display    = 'none';\n               fillInput.tabIndex         = -1;\n               fillInput.addEventListener('input', (e) => setFillColor(e.target.value));\n               // hide it again when the picker closes\n                   fillInput.addEventListener('blur', () => {\n                         fillInput.style.display = 'none';\n                       });\n               document.body.appendChild(fillInput);\n               fillPickerRef.current = fillInput;\n\n        return () => {\n            lineInput.remove();\n            fillInput.remove();\n        };\n    }, [fillColor, lineColor, setFillColor, setLineColor]);\n\n\n    useEffect(() => {\n        const onKeyDown = e => {\n            if (e.key === \"v\") {\n                setActiveTool(\"cursor\");\n            }\n        };\n\n        window.addEventListener(\"keydown\", onKeyDown);\n        return () => {\n            window.removeEventListener(\"keydown\", onKeyDown);\n        };\n    }, []);\n\n    // Update the preview bars whenever colors change\n    useEffect(() => {\n        const previews = document.querySelectorAll('.draw-buttons .line-color-preview');\n        if (previews[0]) previews[0].style.backgroundColor = lineColor;\n    }, [lineColor]);\n\n    useEffect(() => {\n        const previews = document.querySelectorAll('.draw-buttons .line-color-preview');\n        if (previews[1]) previews[1].style.backgroundColor = fillColor;\n    }, [fillColor]);\n\n    // Handlers to open the native picker\n    const openFillPicker = () => {\n              const btn = fillButtonRef.current;\n              const input = fillPickerRef.current;\n              if (!btn || !input) return;\n                  // compute button position\n                  const rect = btn.getBoundingClientRect();\n              input.style.left    = `${rect.right + window.scrollX + 5}px`;\n              input.style.top     = `${rect.top + window.scrollY}px`;\n              input.style.display = 'block';\n              input.focus();\n              input.click();\n            };\n\n    return (\n        <ul className='draw-buttons m-0 px-2 d-flex flex-column align-items-center justify-content-center'>\n            {/* Cursor */}\n            <button\n                onClick={() => setActiveTool(\"cursor\")}\n                title='Select (v)'\n                className={activeTool === \"cursor\" ? \"tool bg-black text-white\" : \"tool\"}\n            >\n                <span className=\"bi bi-cursor\" style={{ transform: \"scaleX(-1)\" }}></span>\n            </button>\n\n            {/* Clear */}\n            <button className='tool' onClick={onClear} title='New Page'>\n                <span className=\"bi bi-plus-circle\"></span>\n            </button>\n\n            {/* Load JSON */}\n            <button className='tool' title='Upload' onClick={() => fileInputRef.current.click()}>\n                <span className=\"bi bi-upload\"></span>\n            </button>\n\n            {/* stroke‐color & thickness dropdown */}\n            <div className=\"dropdown dropend\">\n                <button\n                    className=\"tool d-flex flex-column align-items-center\"\n                    type=\"button\"\n                    title='Line Color/Thickness'\n                    data-bs-toggle=\"dropdown\"\n                    aria-expanded=\"false\"\n                    style={{ height: \"43px\", fontSize: \"22px\" }}\n                >\n                    <span className=\"bi bi-pencil\"></span>\n                    <div className=\"line-color-preview\"></div>\n                </button>\n                <div className=\"dropdown-menu p-2\" style={{ minWidth: '175px', backgroundColor: '#979797' }}>\n                    <label className=\"form-label mb-1\">\n                        Stroke width: {strokeWidth}px\n                    </label>\n                    <input\n                        type=\"range\"\n                        className=\"form-range mb-2\"\n                        min=\"1\"\n                        max=\"20\"\n                        value={strokeWidth}\n                        onChange={e => setStrokeWidth(Number(e.target.value))}\n                    />\n                    <input\n                        type=\"color\"\n                        className=\"w-100\"\n                        value={lineColor}\n                        onChange={e => setLineColor(e.target.value)}\n                    />\n                </div>\n            </div>\n\n            {/* Fill-color button */}\n            <div className=\"dropdown dropend\">\n                <button\n                    className=\"tool d-flex flex-column align-items-center justify-content-center\"\n                    title=\"Fill\"\n                    type=\"button\"\n                    data-bs-toggle=\"dropdown\"\n                    aria-expanded=\"false\"\n                    style={{ height: \"43px\", fontSize: \"22px\" }}\n                >\n                    <span className=\"bi bi-paint-bucket\"></span>\n                    <div className=\"line-color-preview\" />\n                </button>\n                <div className=\"dropdown-menu p-2\" style={{ minWidth: '175px', backgroundColor: '#979797' }} >\n                    <input\n                        type=\"color\"\n                        className=\"w-100\"\n                        value={fillColor}\n                        onChange={e => setFillColor(e.target.value)}\n                    />\n                </div>\n            </div>\n\n            {/* Other tools (unchanged) */}\n            <button\n                onClick={() => setActiveTool(\"line\")}\n                title='Line'\n                className={activeTool === \"line\" ? \"tool bg-black text-white\" : \"tool\"}\n            >\n                <span className=\"bi bi-slash-lg\"></span>\n            </button>\n            <button\n                title='Poly-Line'\n                onClick={() => setActiveTool(\"poly-line\")}\n                className={activeTool === \"poly-line\" ? \"tool bg-black text-white\" : \"tool\"}\n            >\n                <PolylineIcon width={35} height={35} />\n            </button>\n            <button\n                title='Curve'\n                onClick={() => setActiveTool(\"curve\")}\n                className={activeTool === \"curve\" ? \"tool bg-black text-white\" : \"tool\"}\n            >\n                <CurveIcon width={35} height={35} />\n            </button>\n            <button\n                title='Rectangle/Square'\n                onClick={() => setActiveTool(\"square\")}\n                className={activeTool === \"square\" ? \"tool bg-black text-white\" : \"tool\"}\n            >\n                <span className=\"bi bi-square\"></span>\n            </button>\n            <button\n                title='Ellipse/Circle'\n                onClick={() => setActiveTool(\"circle\")}\n                className={activeTool === \"circle\" ? \"tool bg-black text-white\" : \"tool\"}\n            >\n                <span className=\"bi bi-circle\"></span>\n            </button>\n            <button\n                title='Triangle'\n                onClick={() => setActiveTool(\"triangle\")}\n                className={activeTool === \"triangle\" ? \"tool bg-black text-white\" : \"tool\"}\n            >\n                <span className=\"bi bi-triangle\"></span>\n            </button>\n            <button\n                title='Polygon'\n                onClick={() => setActiveTool(\"polygon\")}\n                className={activeTool === \"polygon\" ? \"tool bg-black text-white\" : \"tool\"}\n            >\n                <span className=\"bi bi-pentagon\"></span>\n            </button>\n\n            {/* EXPORT DROPDOWN */}\n            <div className=\"dropdown dropend\">\n                <button className='tool'\n                    title='Download'\n                    type=\"button\"\n                    data-bs-toggle=\"dropdown\"\n                    aria-expanded=\"false\"\n                >\n                    <span className=\"bi bi-download\"></span>\n                </button>\n                <ul className=\"dropdown-menu\" style={{ backgroundColor: \"#979797\" }}>\n                    <li>\n                        <button\n                            className=\"dropdown-item\"\n                            onClick={onDownloadJPEG}\n                        >\n                            JPEG Image (.jpg)\n                        </button>\n                    </li>\n                    <li>\n                        <button\n                            className=\"dropdown-item\"\n                            onClick={onDownloadPDF}\n                        >\n                            PDF Document (.pdf)\n                        </button>\n                    </li>\n                    <li>\n                        <button\n                            className=\"dropdown-item\"\n                            onClick={onExportJSON}\n                        >\n                            JSON File (.json)\n                        </button>\n                    </li>\n                </ul>\n            </div>\n\n            {/* hidden file input (unchanged) */}\n            <input\n                type=\"file\"\n                accept=\".json\"\n                ref={fileInputRef}\n                style={{ display: \"none\" }}\n                onChange={handleFileChange}\n            />\n        </ul>\n    );\n};\n\nexport default ToolBar;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAChD,OAASC,cAAc,GAAI,CAAAC,YAAY,KAAQ,kCAAkC,CACjF,OAASD,cAAc,GAAI,CAAAE,SAAS,KAAQ,+BAA+B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5E,KAAM,CAAAC,OAAO,CAAGC,IAAA,EAcV,IAdW,CACbC,UAAU,CACVC,aAAa,CACbC,YAAY,CACZC,cAAc,CACdC,aAAa,CACbC,MAAM,CACNC,OAAO,CACPC,SAAS,CACTC,SAAS,CACTC,YAAY,CACZC,YAAY,CACZC,WAAW,CACXC,cACJ,CAAC,CAAAb,IAAA,CACG,KAAM,CAAAc,YAAY,CAAGxB,MAAM,CAAC,CAAC,CAE7B;AACA,KAAM,CAAAyB,aAAa,CAAGzB,MAAM,CAAC,IAAI,CAAC,CAClC,KAAM,CAAA0B,aAAa,CAAG1B,MAAM,CAAC,IAAI,CAAC,CAElC;AACA,KAAM,CAAA2B,gBAAgB,CAAIC,CAAC,EAAK,CAC5B,KAAM,CAAAC,IAAI,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAC9B,GAAI,CAACF,IAAI,CAAE,OACX,KAAM,CAAAG,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,MAAM,CAAIC,EAAE,EAAK,CACpB,GAAI,CACA,KAAM,CAAAC,MAAM,CAAGC,IAAI,CAACC,KAAK,CAACH,EAAE,CAACL,MAAM,CAACS,MAAM,CAAC,CAC3CvB,MAAM,CAACoB,MAAM,CAAC,CAClB,CAAE,KAAM,CACJI,OAAO,CAACC,KAAK,CAAC,mBAAmB,CAAC,CACtC,CACJ,CAAC,CACDT,MAAM,CAACU,UAAU,CAACb,IAAI,CAAC,CACvBD,CAAC,CAACE,MAAM,CAACa,KAAK,CAAG,IAAI,CACzB,CAAC,CAED;AACA1C,SAAS,CAAC,IAAM,CACZ;AACA,KAAM,CAAA2C,SAAS,CAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC,CACjDF,SAAS,CAACG,IAAI,CAAG,OAAO,CACxBH,SAAS,CAACD,KAAK,CAAGzB,SAAS,CAC3B0B,SAAS,CAACI,KAAK,CAACC,OAAO,CAAG,MAAM,CAChCL,SAAS,CAACM,gBAAgB,CAAC,OAAO,CAAGtB,CAAC,EAAKR,YAAY,CAACQ,CAAC,CAACE,MAAM,CAACa,KAAK,CAAC,CAAC,CACxEE,QAAQ,CAACM,IAAI,CAACC,WAAW,CAACR,SAAS,CAAC,CAEpC;AACA,KAAM,CAAAS,SAAS,CAAGR,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC,CAC1CO,SAAS,CAACN,IAAI,CAAG,OAAO,CACxBM,SAAS,CAACV,KAAK,CAAGxB,SAAS,CAC3B;AACIkC,SAAS,CAACL,KAAK,CAACM,QAAQ,CAAK,UAAU,CAC3CD,SAAS,CAACL,KAAK,CAACO,KAAK,CAAQ,MAAM,CACnCF,SAAS,CAACL,KAAK,CAACQ,MAAM,CAAO,MAAM,CACnCH,SAAS,CAACL,KAAK,CAACS,OAAO,CAAM,GAAG,CAChCJ,SAAS,CAACL,KAAK,CAACC,OAAO,CAAM,MAAM,CACnCI,SAAS,CAACK,QAAQ,CAAW,CAAC,CAAC,CAC/BL,SAAS,CAACH,gBAAgB,CAAC,OAAO,CAAGtB,CAAC,EAAKP,YAAY,CAACO,CAAC,CAACE,MAAM,CAACa,KAAK,CAAC,CAAC,CACxE;AACIU,SAAS,CAACH,gBAAgB,CAAC,MAAM,CAAE,IAAM,CACnCG,SAAS,CAACL,KAAK,CAACC,OAAO,CAAG,MAAM,CAClC,CAAC,CAAC,CACVJ,QAAQ,CAACM,IAAI,CAACC,WAAW,CAACC,SAAS,CAAC,CACpC5B,aAAa,CAACkC,OAAO,CAAGN,SAAS,CAExC,MAAO,IAAM,CACTT,SAAS,CAACgB,MAAM,CAAC,CAAC,CAClBP,SAAS,CAACO,MAAM,CAAC,CAAC,CACtB,CAAC,CACL,CAAC,CAAE,CAACzC,SAAS,CAAED,SAAS,CAAEG,YAAY,CAAED,YAAY,CAAC,CAAC,CAGtDnB,SAAS,CAAC,IAAM,CACZ,KAAM,CAAA4D,SAAS,CAAGjC,CAAC,EAAI,CACnB,GAAIA,CAAC,CAACkC,GAAG,GAAK,GAAG,CAAE,CACflD,aAAa,CAAC,QAAQ,CAAC,CAC3B,CACJ,CAAC,CAEDmD,MAAM,CAACb,gBAAgB,CAAC,SAAS,CAAEW,SAAS,CAAC,CAC7C,MAAO,IAAM,CACTE,MAAM,CAACC,mBAAmB,CAAC,SAAS,CAAEH,SAAS,CAAC,CACpD,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAEN;AACA5D,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAgE,QAAQ,CAAGpB,QAAQ,CAACqB,gBAAgB,CAAC,mCAAmC,CAAC,CAC/E,GAAID,QAAQ,CAAC,CAAC,CAAC,CAAEA,QAAQ,CAAC,CAAC,CAAC,CAACjB,KAAK,CAACmB,eAAe,CAAGjD,SAAS,CAClE,CAAC,CAAE,CAACA,SAAS,CAAC,CAAC,CAEfjB,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAgE,QAAQ,CAAGpB,QAAQ,CAACqB,gBAAgB,CAAC,mCAAmC,CAAC,CAC/E,GAAID,QAAQ,CAAC,CAAC,CAAC,CAAEA,QAAQ,CAAC,CAAC,CAAC,CAACjB,KAAK,CAACmB,eAAe,CAAGhD,SAAS,CAClE,CAAC,CAAE,CAACA,SAAS,CAAC,CAAC,CAEf;AACA,KAAM,CAAAiD,cAAc,CAAGA,CAAA,GAAM,CACnB,KAAM,CAAAC,GAAG,CAAG3C,aAAa,CAACiC,OAAO,CACjC,KAAM,CAAAW,KAAK,CAAG7C,aAAa,CAACkC,OAAO,CACnC,GAAI,CAACU,GAAG,EAAI,CAACC,KAAK,CAAE,OAChB;AACA,KAAM,CAAAC,IAAI,CAAGF,GAAG,CAACG,qBAAqB,CAAC,CAAC,CAC5CF,KAAK,CAACtB,KAAK,CAACyB,IAAI,CAAM,GAAGF,IAAI,CAACG,KAAK,CAAGX,MAAM,CAACY,OAAO,CAAG,CAAC,IAAI,CAC5DL,KAAK,CAACtB,KAAK,CAAC4B,GAAG,CAAO,GAAGL,IAAI,CAACK,GAAG,CAAGb,MAAM,CAACc,OAAO,IAAI,CACtDP,KAAK,CAACtB,KAAK,CAACC,OAAO,CAAG,OAAO,CAC7BqB,KAAK,CAACQ,KAAK,CAAC,CAAC,CACbR,KAAK,CAACS,KAAK,CAAC,CAAC,CACf,CAAC,CAET,mBACIvE,KAAA,OAAIwE,SAAS,CAAC,oFAAoF,CAAAC,QAAA,eAE9F3E,IAAA,WACI4E,OAAO,CAAEA,CAAA,GAAMtE,aAAa,CAAC,QAAQ,CAAE,CACvCuE,KAAK,CAAC,YAAY,CAClBH,SAAS,CAAErE,UAAU,GAAK,QAAQ,CAAG,0BAA0B,CAAG,MAAO,CAAAsE,QAAA,cAEzE3E,IAAA,SAAM0E,SAAS,CAAC,cAAc,CAAChC,KAAK,CAAE,CAAEoC,SAAS,CAAE,YAAa,CAAE,CAAO,CAAC,CACtE,CAAC,cAGT9E,IAAA,WAAQ0E,SAAS,CAAC,MAAM,CAACE,OAAO,CAAEjE,OAAQ,CAACkE,KAAK,CAAC,UAAU,CAAAF,QAAA,cACvD3E,IAAA,SAAM0E,SAAS,CAAC,mBAAmB,CAAO,CAAC,CACvC,CAAC,cAGT1E,IAAA,WAAQ0E,SAAS,CAAC,MAAM,CAACG,KAAK,CAAC,QAAQ,CAACD,OAAO,CAAEA,CAAA,GAAM1D,YAAY,CAACmC,OAAO,CAACoB,KAAK,CAAC,CAAE,CAAAE,QAAA,cAChF3E,IAAA,SAAM0E,SAAS,CAAC,cAAc,CAAO,CAAC,CAClC,CAAC,cAGTxE,KAAA,QAAKwE,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC7BzE,KAAA,WACIwE,SAAS,CAAC,4CAA4C,CACtDjC,IAAI,CAAC,QAAQ,CACboC,KAAK,CAAC,sBAAsB,CAC5B,iBAAe,UAAU,CACzB,gBAAc,OAAO,CACrBnC,KAAK,CAAE,CAAEQ,MAAM,CAAE,MAAM,CAAE6B,QAAQ,CAAE,MAAO,CAAE,CAAAJ,QAAA,eAE5C3E,IAAA,SAAM0E,SAAS,CAAC,cAAc,CAAO,CAAC,cACtC1E,IAAA,QAAK0E,SAAS,CAAC,oBAAoB,CAAM,CAAC,EACtC,CAAC,cACTxE,KAAA,QAAKwE,SAAS,CAAC,mBAAmB,CAAChC,KAAK,CAAE,CAAEsC,QAAQ,CAAE,OAAO,CAAEnB,eAAe,CAAE,SAAU,CAAE,CAAAc,QAAA,eACxFzE,KAAA,UAAOwE,SAAS,CAAC,iBAAiB,CAAAC,QAAA,EAAC,gBACjB,CAAC3D,WAAW,CAAC,IAC/B,EAAO,CAAC,cACRhB,IAAA,UACIyC,IAAI,CAAC,OAAO,CACZiC,SAAS,CAAC,iBAAiB,CAC3BO,GAAG,CAAC,GAAG,CACPC,GAAG,CAAC,IAAI,CACR7C,KAAK,CAAErB,WAAY,CACnBmE,QAAQ,CAAE7D,CAAC,EAAIL,cAAc,CAACmE,MAAM,CAAC9D,CAAC,CAACE,MAAM,CAACa,KAAK,CAAC,CAAE,CACzD,CAAC,cACFrC,IAAA,UACIyC,IAAI,CAAC,OAAO,CACZiC,SAAS,CAAC,OAAO,CACjBrC,KAAK,CAAEzB,SAAU,CACjBuE,QAAQ,CAAE7D,CAAC,EAAIR,YAAY,CAACQ,CAAC,CAACE,MAAM,CAACa,KAAK,CAAE,CAC/C,CAAC,EACD,CAAC,EACL,CAAC,cAGNnC,KAAA,QAAKwE,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC7BzE,KAAA,WACIwE,SAAS,CAAC,mEAAmE,CAC7EG,KAAK,CAAC,MAAM,CACZpC,IAAI,CAAC,QAAQ,CACb,iBAAe,UAAU,CACzB,gBAAc,OAAO,CACrBC,KAAK,CAAE,CAAEQ,MAAM,CAAE,MAAM,CAAE6B,QAAQ,CAAE,MAAO,CAAE,CAAAJ,QAAA,eAE5C3E,IAAA,SAAM0E,SAAS,CAAC,oBAAoB,CAAO,CAAC,cAC5C1E,IAAA,QAAK0E,SAAS,CAAC,oBAAoB,CAAE,CAAC,EAClC,CAAC,cACT1E,IAAA,QAAK0E,SAAS,CAAC,mBAAmB,CAAChC,KAAK,CAAE,CAAEsC,QAAQ,CAAE,OAAO,CAAEnB,eAAe,CAAE,SAAU,CAAE,CAAAc,QAAA,cACxF3E,IAAA,UACIyC,IAAI,CAAC,OAAO,CACZiC,SAAS,CAAC,OAAO,CACjBrC,KAAK,CAAExB,SAAU,CACjBsE,QAAQ,CAAE7D,CAAC,EAAIP,YAAY,CAACO,CAAC,CAACE,MAAM,CAACa,KAAK,CAAE,CAC/C,CAAC,CACD,CAAC,EACL,CAAC,cAGNrC,IAAA,WACI4E,OAAO,CAAEA,CAAA,GAAMtE,aAAa,CAAC,MAAM,CAAE,CACrCuE,KAAK,CAAC,MAAM,CACZH,SAAS,CAAErE,UAAU,GAAK,MAAM,CAAG,0BAA0B,CAAG,MAAO,CAAAsE,QAAA,cAEvE3E,IAAA,SAAM0E,SAAS,CAAC,gBAAgB,CAAO,CAAC,CACpC,CAAC,cACT1E,IAAA,WACI6E,KAAK,CAAC,WAAW,CACjBD,OAAO,CAAEA,CAAA,GAAMtE,aAAa,CAAC,WAAW,CAAE,CAC1CoE,SAAS,CAAErE,UAAU,GAAK,WAAW,CAAG,0BAA0B,CAAG,MAAO,CAAAsE,QAAA,cAE5E3E,IAAA,CAACH,YAAY,EAACoD,KAAK,CAAE,EAAG,CAACC,MAAM,CAAE,EAAG,CAAE,CAAC,CACnC,CAAC,cACTlD,IAAA,WACI6E,KAAK,CAAC,OAAO,CACbD,OAAO,CAAEA,CAAA,GAAMtE,aAAa,CAAC,OAAO,CAAE,CACtCoE,SAAS,CAAErE,UAAU,GAAK,OAAO,CAAG,0BAA0B,CAAG,MAAO,CAAAsE,QAAA,cAExE3E,IAAA,CAACF,SAAS,EAACmD,KAAK,CAAE,EAAG,CAACC,MAAM,CAAE,EAAG,CAAE,CAAC,CAChC,CAAC,cACTlD,IAAA,WACI6E,KAAK,CAAC,kBAAkB,CACxBD,OAAO,CAAEA,CAAA,GAAMtE,aAAa,CAAC,QAAQ,CAAE,CACvCoE,SAAS,CAAErE,UAAU,GAAK,QAAQ,CAAG,0BAA0B,CAAG,MAAO,CAAAsE,QAAA,cAEzE3E,IAAA,SAAM0E,SAAS,CAAC,cAAc,CAAO,CAAC,CAClC,CAAC,cACT1E,IAAA,WACI6E,KAAK,CAAC,gBAAgB,CACtBD,OAAO,CAAEA,CAAA,GAAMtE,aAAa,CAAC,QAAQ,CAAE,CACvCoE,SAAS,CAAErE,UAAU,GAAK,QAAQ,CAAG,0BAA0B,CAAG,MAAO,CAAAsE,QAAA,cAEzE3E,IAAA,SAAM0E,SAAS,CAAC,cAAc,CAAO,CAAC,CAClC,CAAC,cACT1E,IAAA,WACI6E,KAAK,CAAC,UAAU,CAChBD,OAAO,CAAEA,CAAA,GAAMtE,aAAa,CAAC,UAAU,CAAE,CACzCoE,SAAS,CAAErE,UAAU,GAAK,UAAU,CAAG,0BAA0B,CAAG,MAAO,CAAAsE,QAAA,cAE3E3E,IAAA,SAAM0E,SAAS,CAAC,gBAAgB,CAAO,CAAC,CACpC,CAAC,cACT1E,IAAA,WACI6E,KAAK,CAAC,SAAS,CACfD,OAAO,CAAEA,CAAA,GAAMtE,aAAa,CAAC,SAAS,CAAE,CACxCoE,SAAS,CAAErE,UAAU,GAAK,SAAS,CAAG,0BAA0B,CAAG,MAAO,CAAAsE,QAAA,cAE1E3E,IAAA,SAAM0E,SAAS,CAAC,gBAAgB,CAAO,CAAC,CACpC,CAAC,cAGTxE,KAAA,QAAKwE,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC7B3E,IAAA,WAAQ0E,SAAS,CAAC,MAAM,CACpBG,KAAK,CAAC,UAAU,CAChBpC,IAAI,CAAC,QAAQ,CACb,iBAAe,UAAU,CACzB,gBAAc,OAAO,CAAAkC,QAAA,cAErB3E,IAAA,SAAM0E,SAAS,CAAC,gBAAgB,CAAO,CAAC,CACpC,CAAC,cACTxE,KAAA,OAAIwE,SAAS,CAAC,eAAe,CAAChC,KAAK,CAAE,CAAEmB,eAAe,CAAE,SAAU,CAAE,CAAAc,QAAA,eAChE3E,IAAA,OAAA2E,QAAA,cACI3E,IAAA,WACI0E,SAAS,CAAC,eAAe,CACzBE,OAAO,CAAEpE,cAAe,CAAAmE,QAAA,CAC3B,mBAED,CAAQ,CAAC,CACT,CAAC,cACL3E,IAAA,OAAA2E,QAAA,cACI3E,IAAA,WACI0E,SAAS,CAAC,eAAe,CACzBE,OAAO,CAAEnE,aAAc,CAAAkE,QAAA,CAC1B,qBAED,CAAQ,CAAC,CACT,CAAC,cACL3E,IAAA,OAAA2E,QAAA,cACI3E,IAAA,WACI0E,SAAS,CAAC,eAAe,CACzBE,OAAO,CAAErE,YAAa,CAAAoE,QAAA,CACzB,mBAED,CAAQ,CAAC,CACT,CAAC,EACL,CAAC,EACJ,CAAC,cAGN3E,IAAA,UACIyC,IAAI,CAAC,MAAM,CACX4C,MAAM,CAAC,OAAO,CACdC,GAAG,CAAEpE,YAAa,CAClBwB,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAC3BwC,QAAQ,CAAE9D,gBAAiB,CAC9B,CAAC,EACF,CAAC,CAEb,CAAC,CAED,cAAe,CAAAlB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}