{"ast":null,"code":"var _jsxFileName = \"/home/nightsquid/Desktop/GUI II/studyspace/src/components/Canvas.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from \"react\";\nimport \"../css/canvas.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Canvas = ({\n  activeTool\n}) => {\n  _s();\n  const canvas1Ref = useRef(null);\n  const canvas2Ref = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [startPos, setStartPos] = useState(null);\n  useEffect(() => {\n    const canvas1 = canvas1Ref.current;\n    const canvas2 = canvas2Ref.current;\n    const ctx1 = canvas1.getContext(\"2d\");\n    const ctx2 = canvas2.getContext(\"2d\");\n    const handleMouseDown = e => {\n      if (activeTool !== \"square\") return;\n      const rect = canvas2.getBoundingClientRect();\n      const x = e.clientX - rect.left;\n      const y = e.clientY - rect.top;\n      setStartPos({\n        x,\n        y\n      });\n      setIsDrawing(true);\n    };\n    const handleMouseMove = e => {\n      if (!isDrawing || activeTool !== \"square\" || !startPos) return;\n      const rect = canvas2.getBoundingClientRect();\n      const x = e.clientX - rect.left;\n      const y = e.clientY - rect.top;\n      const width = x - startPos.x;\n      const height = y - startPos.y;\n      ctx2.clearRect(0, 0, canvas2.width, canvas2.height);\n      ctx2.strokeRect(startPos.x, startPos.y, width, height);\n    };\n    const handleMouseUp = e => {\n      if (!isDrawing || activeTool !== \"square\" || !startPos) return;\n      const rect = canvas2.getBoundingClientRect();\n      const x = e.clientX - rect.left;\n      const y = e.clientY - rect.top;\n      const width = x - startPos.x;\n      const height = y - startPos.y;\n      ctx2.clearRect(0, 0, canvas2.width, canvas2.height);\n      ctx1.strokeRect(startPos.x, startPos.y, width, height);\n      setIsDrawing(false);\n      setStartPos(null);\n    };\n    canvas2.addEventListener(\"mousedown\", handleMouseDown);\n    canvas2.addEventListener(\"mousemove\", handleMouseMove);\n    canvas2.addEventListener(\"mouseup\", handleMouseUp);\n    return () => {\n      canvas2.removeEventListener(\"mousedown\", handleMouseDown);\n      canvas2.removeEventListener(\"mousemove\", handleMouseMove);\n      canvas2.removeEventListener(\"mouseup\", handleMouseUp);\n    };\n  }, [activeTool, isDrawing, startPos]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"canvas-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      id: \"layer1\",\n      ref: canvas1Ref,\n      width: \"600px\",\n      height: \"700px\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      id: \"layer2\",\n      ref: canvas2Ref,\n      width: \"600px\",\n      height: \"700px\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n};\n_s(Canvas, \"cfVfFhdXPo4ptXiueloZA+OBm14=\");\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useRef","useEffect","useState","jsxDEV","_jsxDEV","Canvas","activeTool","_s","canvas1Ref","canvas2Ref","isDrawing","setIsDrawing","startPos","setStartPos","canvas1","current","canvas2","ctx1","getContext","ctx2","handleMouseDown","e","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","handleMouseMove","width","height","clearRect","strokeRect","handleMouseUp","addEventListener","removeEventListener","className","children","id","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/nightsquid/Desktop/GUI II/studyspace/src/components/Canvas.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\nimport \"../css/canvas.css\";\n\nconst Canvas = ({ activeTool }) => {\n    const canvas1Ref = useRef(null);\n    const canvas2Ref = useRef(null);\n\n    const [isDrawing, setIsDrawing] = useState(false);\n    const [startPos, setStartPos] = useState(null);\n\n    useEffect(() => {\n        const canvas1 = canvas1Ref.current;\n        const canvas2 = canvas2Ref.current;\n        const ctx1 = canvas1.getContext(\"2d\");\n        const ctx2 = canvas2.getContext(\"2d\");\n\n        const handleMouseDown = (e) => {\n            if (activeTool !== \"square\") return;\n            const rect = canvas2.getBoundingClientRect();\n            const x = e.clientX - rect.left;\n            const y = e.clientY - rect.top;\n            setStartPos({ x, y });\n            setIsDrawing(true);\n        };\n\n        const handleMouseMove = (e) => {\n            if (!isDrawing || activeTool !== \"square\" || !startPos) return;\n            const rect = canvas2.getBoundingClientRect();\n            const x = e.clientX - rect.left;\n            const y = e.clientY - rect.top;\n            const width = x - startPos.x;\n            const height = y - startPos.y;\n\n            ctx2.clearRect(0, 0, canvas2.width, canvas2.height);\n            ctx2.strokeRect(startPos.x, startPos.y, width, height);\n        };\n\n        const handleMouseUp = (e) => {\n            if (!isDrawing || activeTool !== \"square\" || !startPos) return;\n            const rect = canvas2.getBoundingClientRect();\n            const x = e.clientX - rect.left;\n            const y = e.clientY - rect.top;\n            const width = x - startPos.x;\n            const height = y - startPos.y;\n\n            ctx2.clearRect(0, 0, canvas2.width, canvas2.height);\n            ctx1.strokeRect(startPos.x, startPos.y, width, height);\n\n            setIsDrawing(false);\n            setStartPos(null);\n        };\n\n        canvas2.addEventListener(\"mousedown\", handleMouseDown);\n        canvas2.addEventListener(\"mousemove\", handleMouseMove);\n        canvas2.addEventListener(\"mouseup\", handleMouseUp);\n\n        return () => {\n            canvas2.removeEventListener(\"mousedown\", handleMouseDown);\n            canvas2.removeEventListener(\"mousemove\", handleMouseMove);\n            canvas2.removeEventListener(\"mouseup\", handleMouseUp);\n        };\n    }, [activeTool, isDrawing, startPos]);\n\n    return (\n        <div className=\"canvas-container\">\n            <canvas id=\"layer1\" ref={canvas1Ref} width=\"600px\" height=\"700px\" />\n            <canvas id=\"layer2\" ref={canvas2Ref} width=\"600px\" height=\"700px\" />\n        </div>\n    );\n};\n\nexport default Canvas;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,OAAO,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3B,MAAMC,MAAM,GAAGA,CAAC;EAAEC;AAAW,CAAC,KAAK;EAAAC,EAAA;EAC/B,MAAMC,UAAU,GAAGR,MAAM,CAAC,IAAI,CAAC;EAC/B,MAAMS,UAAU,GAAGT,MAAM,CAAC,IAAI,CAAC;EAE/B,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAE9CD,SAAS,CAAC,MAAM;IACZ,MAAMa,OAAO,GAAGN,UAAU,CAACO,OAAO;IAClC,MAAMC,OAAO,GAAGP,UAAU,CAACM,OAAO;IAClC,MAAME,IAAI,GAAGH,OAAO,CAACI,UAAU,CAAC,IAAI,CAAC;IACrC,MAAMC,IAAI,GAAGH,OAAO,CAACE,UAAU,CAAC,IAAI,CAAC;IAErC,MAAME,eAAe,GAAIC,CAAC,IAAK;MAC3B,IAAIf,UAAU,KAAK,QAAQ,EAAE;MAC7B,MAAMgB,IAAI,GAAGN,OAAO,CAACO,qBAAqB,CAAC,CAAC;MAC5C,MAAMC,CAAC,GAAGH,CAAC,CAACI,OAAO,GAAGH,IAAI,CAACI,IAAI;MAC/B,MAAMC,CAAC,GAAGN,CAAC,CAACO,OAAO,GAAGN,IAAI,CAACO,GAAG;MAC9BhB,WAAW,CAAC;QAAEW,CAAC;QAAEG;MAAE,CAAC,CAAC;MACrBhB,YAAY,CAAC,IAAI,CAAC;IACtB,CAAC;IAED,MAAMmB,eAAe,GAAIT,CAAC,IAAK;MAC3B,IAAI,CAACX,SAAS,IAAIJ,UAAU,KAAK,QAAQ,IAAI,CAACM,QAAQ,EAAE;MACxD,MAAMU,IAAI,GAAGN,OAAO,CAACO,qBAAqB,CAAC,CAAC;MAC5C,MAAMC,CAAC,GAAGH,CAAC,CAACI,OAAO,GAAGH,IAAI,CAACI,IAAI;MAC/B,MAAMC,CAAC,GAAGN,CAAC,CAACO,OAAO,GAAGN,IAAI,CAACO,GAAG;MAC9B,MAAME,KAAK,GAAGP,CAAC,GAAGZ,QAAQ,CAACY,CAAC;MAC5B,MAAMQ,MAAM,GAAGL,CAAC,GAAGf,QAAQ,CAACe,CAAC;MAE7BR,IAAI,CAACc,SAAS,CAAC,CAAC,EAAE,CAAC,EAAEjB,OAAO,CAACe,KAAK,EAAEf,OAAO,CAACgB,MAAM,CAAC;MACnDb,IAAI,CAACe,UAAU,CAACtB,QAAQ,CAACY,CAAC,EAAEZ,QAAQ,CAACe,CAAC,EAAEI,KAAK,EAAEC,MAAM,CAAC;IAC1D,CAAC;IAED,MAAMG,aAAa,GAAId,CAAC,IAAK;MACzB,IAAI,CAACX,SAAS,IAAIJ,UAAU,KAAK,QAAQ,IAAI,CAACM,QAAQ,EAAE;MACxD,MAAMU,IAAI,GAAGN,OAAO,CAACO,qBAAqB,CAAC,CAAC;MAC5C,MAAMC,CAAC,GAAGH,CAAC,CAACI,OAAO,GAAGH,IAAI,CAACI,IAAI;MAC/B,MAAMC,CAAC,GAAGN,CAAC,CAACO,OAAO,GAAGN,IAAI,CAACO,GAAG;MAC9B,MAAME,KAAK,GAAGP,CAAC,GAAGZ,QAAQ,CAACY,CAAC;MAC5B,MAAMQ,MAAM,GAAGL,CAAC,GAAGf,QAAQ,CAACe,CAAC;MAE7BR,IAAI,CAACc,SAAS,CAAC,CAAC,EAAE,CAAC,EAAEjB,OAAO,CAACe,KAAK,EAAEf,OAAO,CAACgB,MAAM,CAAC;MACnDf,IAAI,CAACiB,UAAU,CAACtB,QAAQ,CAACY,CAAC,EAAEZ,QAAQ,CAACe,CAAC,EAAEI,KAAK,EAAEC,MAAM,CAAC;MAEtDrB,YAAY,CAAC,KAAK,CAAC;MACnBE,WAAW,CAAC,IAAI,CAAC;IACrB,CAAC;IAEDG,OAAO,CAACoB,gBAAgB,CAAC,WAAW,EAAEhB,eAAe,CAAC;IACtDJ,OAAO,CAACoB,gBAAgB,CAAC,WAAW,EAAEN,eAAe,CAAC;IACtDd,OAAO,CAACoB,gBAAgB,CAAC,SAAS,EAAED,aAAa,CAAC;IAElD,OAAO,MAAM;MACTnB,OAAO,CAACqB,mBAAmB,CAAC,WAAW,EAAEjB,eAAe,CAAC;MACzDJ,OAAO,CAACqB,mBAAmB,CAAC,WAAW,EAAEP,eAAe,CAAC;MACzDd,OAAO,CAACqB,mBAAmB,CAAC,SAAS,EAAEF,aAAa,CAAC;IACzD,CAAC;EACL,CAAC,EAAE,CAAC7B,UAAU,EAAEI,SAAS,EAAEE,QAAQ,CAAC,CAAC;EAErC,oBACIR,OAAA;IAAKkC,SAAS,EAAC,kBAAkB;IAAAC,QAAA,gBAC7BnC,OAAA;MAAQoC,EAAE,EAAC,QAAQ;MAACC,GAAG,EAAEjC,UAAW;MAACuB,KAAK,EAAC,OAAO;MAACC,MAAM,EAAC;IAAO;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACpEzC,OAAA;MAAQoC,EAAE,EAAC,QAAQ;MAACC,GAAG,EAAEhC,UAAW;MAACsB,KAAK,EAAC,OAAO;MAACC,MAAM,EAAC;IAAO;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACnE,CAAC;AAEd,CAAC;AAACtC,EAAA,CAlEIF,MAAM;AAAAyC,EAAA,GAANzC,MAAM;AAoEZ,eAAeA,MAAM;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}